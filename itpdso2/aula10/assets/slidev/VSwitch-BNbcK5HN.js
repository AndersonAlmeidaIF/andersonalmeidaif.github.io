import{d as k,t as m,ac as T,C as y,aA as E,v as c,at as K}from"../modules/vue-Bqtcl43B.js";import{t as O}from"../modules/shiki-BjTRWMA0.js";import{u as R}from"./context-Br55CiUd.js";import{am as w,C as x,aK as M,aL as V,aM as B,aN as F,aO as P,Y as C}from"../index-CaPSRmTr.js";const U=k({props:{at:{type:[Number,String],default:"+1"},unmount:{type:Boolean,default:!1},transition:{type:[Object,String,Boolean],default:!1},tag:{type:String,default:"div"},childTag:{type:String,default:"div"}},setup({at:S,unmount:_,transition:u,tag:f,childTag:L},{slots:g}){const h=Object.entries(g).sort((t,e)=>-t[0].split("-")[0]+ +e[0].split("-")[0]),o=[];let r;for(const[t,e]of h){const n=m();if(Number.isFinite(+t))o.push([+t,r??+t+1,e,n]),r=+t;else{const[s,i]=t.split("-").map(Number);if(!Number.isFinite(s)||!Number.isFinite(i))throw new Error(`Invalid range for v-switch: ${t}`);o.push([s,i,e,n]),r=s}}const I=Math.max(...o.map(t=>t[1]))-1,p=w(),a=m(0),{$clicksContext:l,$nav:A}=R();T(()=>{const t=l.calculateSince(S,I);if(!t){a.value=x;return}l.register(p,t),y(()=>{a.value=t.currentOffset.value+1})}),E(()=>{l.unregister(p)});function N(){C.value=!0,O()}const d=u&&{...M(u,A.value.navDirection<0),tag:f,onAfterLeave:N};return()=>{const t=[];for(let e=o.length-1;e>=0;e--){const[n,s,i,b]=o[e],v=n<=a.value&&a.value<s;_&&!v||t.push(c(L,{key:e,ref:b,class:[V,a.value===n&&B,a.value>=s&&F,!v&&P].filter(Boolean),"data-slidev-clicks-start":n,"data-slidev-clicks-end":s},i==null?void 0:i()))}return d?c(K,C.value?{}:d,()=>t):c(f,t)}}});export{U as _};
