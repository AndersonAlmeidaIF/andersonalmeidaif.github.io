import{d as At,t as $t,L as Ot,o as Ct,b as Mt,c as kt,k as Dt,e as ut,ac as zt,l as Bt,q as qt,s as Pt,B as yt}from"./modules/vue-DMheZZ_C.js";import{u as St,f as It}from"./slidev/context-C6yETNwR.js";import{g as Et}from"./modules/file-saver-C8BEGaqa.js";import{a as jt}from"./default-BhoBg_r0.js";import"./index-CactIhrS.js";import"./modules/shiki-BPFzlp3t.js";var mt={exports:{}},Rt=mt.exports,xt;function Lt(){return xt||(xt=1,function(ht,vt){(function(at,K){ht.exports=K()})(Rt,()=>(()=>{var at={873:(I,E)=>{var N,Z,nt=function(){var G=function(g,c){var d=g,e=tt[c],t=null,i=0,r=null,n=[],a={},p=function(o,u){t=function(s){for(var h=new Array(s),l=0;l<s;l+=1){h[l]=new Array(s);for(var b=0;b<s;b+=1)h[l][b]=null}return h}(i=4*d+17),f(0,0),f(i-7,0),f(0,i-7),w(),m(),_(o,u),d>=7&&v(o),r==null&&(r=O(d,e,n)),y(r,u)},f=function(o,u){for(var s=-1;s<=7;s+=1)if(!(o+s<=-1||i<=o+s))for(var h=-1;h<=7;h+=1)u+h<=-1||i<=u+h||(t[o+s][u+h]=0<=s&&s<=6&&(h==0||h==6)||0<=h&&h<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=h&&h<=4)},m=function(){for(var o=8;o<i-8;o+=1)t[o][6]==null&&(t[o][6]=o%2==0);for(var u=8;u<i-8;u+=1)t[6][u]==null&&(t[6][u]=u%2==0)},w=function(){for(var o=T.getPatternPosition(d),u=0;u<o.length;u+=1)for(var s=0;s<o.length;s+=1){var h=o[u],l=o[s];if(t[h][l]==null)for(var b=-2;b<=2;b+=1)for(var S=-2;S<=2;S+=1)t[h+b][l+S]=b==-2||b==2||S==-2||S==2||b==0&&S==0}},v=function(o){for(var u=T.getBCHTypeNumber(d),s=0;s<18;s+=1){var h=!o&&(u>>s&1)==1;t[Math.floor(s/3)][s%3+i-8-3]=h}for(s=0;s<18;s+=1)h=!o&&(u>>s&1)==1,t[s%3+i-8-3][Math.floor(s/3)]=h},_=function(o,u){for(var s=e<<3|u,h=T.getBCHTypeInfo(s),l=0;l<15;l+=1){var b=!o&&(h>>l&1)==1;l<6?t[l][8]=b:l<8?t[l+1][8]=b:t[i-15+l][8]=b}for(l=0;l<15;l+=1)b=!o&&(h>>l&1)==1,l<8?t[8][i-l-1]=b:l<9?t[8][15-l-1+1]=b:t[8][15-l-1]=b;t[i-8][8]=!o},y=function(o,u){for(var s=-1,h=i-1,l=7,b=0,S=T.getMaskFunction(u),$=i-1;$>0;$-=2)for($==6&&($-=1);;){for(var M=0;M<2;M+=1)if(t[h][$-M]==null){var k=!1;b<o.length&&(k=(o[b]>>>l&1)==1),S(h,$-M)&&(k=!k),t[h][$-M]=k,(l-=1)==-1&&(b+=1,l=7)}if((h+=s)<0||i<=h){h-=s,s=-s;break}}},O=function(o,u,s){for(var h=lt.getRSBlocks(o,u),l=rt(),b=0;b<s.length;b+=1){var S=s[b];l.put(S.getMode(),4),l.put(S.getLength(),T.getLengthInBits(S.getMode(),o)),S.write(l)}var $=0;for(b=0;b<h.length;b+=1)$+=h[b].dataCount;if(l.getLengthInBits()>8*$)throw"code length overflow. ("+l.getLengthInBits()+">"+8*$+")";for(l.getLengthInBits()+4<=8*$&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*$||(l.put(236,8),l.getLengthInBits()>=8*$));)l.put(17,8);return function(M,k){for(var B=0,L=0,j=0,q=new Array(k.length),D=new Array(k.length),x=0;x<k.length;x+=1){var P=k[x].dataCount,R=k[x].totalCount-P;L=Math.max(L,P),j=Math.max(j,R),q[x]=new Array(P);for(var A=0;A<q[x].length;A+=1)q[x][A]=255&M.getBuffer()[A+B];B+=P;var H=T.getErrorCorrectPolynomial(R),U=et(q[x],H.getLength()-1).mod(H);for(D[x]=new Array(H.getLength()-1),A=0;A<D[x].length;A+=1){var Q=A+U.getLength()-D[x].length;D[x][A]=Q>=0?U.getAt(Q):0}}var _t=0;for(A=0;A<k.length;A+=1)_t+=k[A].totalCount;var dt=new Array(_t),J=0;for(A=0;A<L;A+=1)for(x=0;x<k.length;x+=1)A<q[x].length&&(dt[J]=q[x][A],J+=1);for(A=0;A<j;A+=1)for(x=0;x<k.length;x+=1)A<D[x].length&&(dt[J]=D[x][A],J+=1);return dt}(l,h)};a.addData=function(o,u){var s=null;switch(u=u||"Byte"){case"Numeric":s=gt(o);break;case"Alphanumeric":s=ft(o);break;case"Byte":s=ot(o);break;case"Kanji":s=pt(o);break;default:throw"mode:"+u}n.push(s),r=null},a.isDark=function(o,u){if(o<0||i<=o||u<0||i<=u)throw o+","+u;return t[o][u]},a.getModuleCount=function(){return i},a.make=function(){if(d<1){for(var o=1;o<40;o++){for(var u=lt.getRSBlocks(o,e),s=rt(),h=0;h<n.length;h++){var l=n[h];s.put(l.getMode(),4),s.put(l.getLength(),T.getLengthInBits(l.getMode(),o)),l.write(s)}var b=0;for(h=0;h<u.length;h++)b+=u[h].dataCount;if(s.getLengthInBits()<=8*b)break}d=o}p(!1,function(){for(var S=0,$=0,M=0;M<8;M+=1){p(!0,M);var k=T.getLostPoint(a);(M==0||S>k)&&(S=k,$=M)}return $}())},a.createTableTag=function(o,u){o=o||2;var s="";s+='<table style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: "+(u=u===void 0?4*o:u)+"px;",s+='">',s+="<tbody>";for(var h=0;h<a.getModuleCount();h+=1){s+="<tr>";for(var l=0;l<a.getModuleCount();l+=1)s+='<td style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: 0px;",s+=" width: "+o+"px;",s+=" height: "+o+"px;",s+=" background-color: ",s+=a.isDark(h,l)?"#000000":"#ffffff",s+=";",s+='"/>';s+="</tr>"}return(s+="</tbody>")+"</table>"},a.createSvgTag=function(o,u,s,h){var l={};typeof arguments[0]=="object"&&(o=(l=arguments[0]).cellSize,u=l.margin,s=l.alt,h=l.title),o=o||2,u=u===void 0?4*o:u,(s=typeof s=="string"?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-description":null,(h=typeof h=="string"?{text:h}:h||{}).text=h.text||null,h.id=h.text?h.id||"qrcode-title":null;var b,S,$,M,k=a.getModuleCount()*o+2*u,B="";for(M="l"+o+",0 0,"+o+" -"+o+",0 0,-"+o+"z ",B+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',B+=l.scalable?"":' width="'+k+'px" height="'+k+'px"',B+=' viewBox="0 0 '+k+" "+k+'" ',B+=' preserveAspectRatio="xMinYMin meet"',B+=h.text||s.text?' role="img" aria-labelledby="'+C([h.id,s.id].join(" ").trim())+'"':"",B+=">",B+=h.text?'<title id="'+C(h.id)+'">'+C(h.text)+"</title>":"",B+=s.text?'<description id="'+C(s.id)+'">'+C(s.text)+"</description>":"",B+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',B+='<path d="',S=0;S<a.getModuleCount();S+=1)for($=S*o+u,b=0;b<a.getModuleCount();b+=1)a.isDark(S,b)&&(B+="M"+(b*o+u)+","+$+M);return(B+='" stroke="transparent" fill="black"/>')+"</svg>"},a.createDataURL=function(o,u){o=o||2,u=u===void 0?4*o:u;var s=a.getModuleCount()*o+2*u,h=u,l=s-u;return st(s,s,function(b,S){if(h<=b&&b<l&&h<=S&&S<l){var $=Math.floor((b-h)/o),M=Math.floor((S-h)/o);return a.isDark(M,$)?0:1}return 1})},a.createImgTag=function(o,u,s){o=o||2,u=u===void 0?4*o:u;var h=a.getModuleCount()*o+2*u,l="";return l+="<img",l+=' src="',l+=a.createDataURL(o,u),l+='"',l+=' width="',l+=h,l+='"',l+=' height="',l+=h,l+='"',s&&(l+=' alt="',l+=C(s),l+='"'),l+"/>"};var C=function(o){for(var u="",s=0;s<o.length;s+=1){var h=o.charAt(s);switch(h){case"<":u+="&lt;";break;case">":u+="&gt;";break;case"&":u+="&amp;";break;case'"':u+="&quot;";break;default:u+=h}}return u};return a.createASCII=function(o,u){if((o=o||1)<2)return function(q){q=q===void 0?2:q;var D,x,P,R,A,H=1*a.getModuleCount()+2*q,U=q,Q=H-q,_t={"██":"█","█ ":"▀"," █":"▄","  ":" "},dt={"██":"▀","█ ":"▀"," █":" ","  ":" "},J="";for(D=0;D<H;D+=2){for(P=Math.floor((D-U)/1),R=Math.floor((D+1-U)/1),x=0;x<H;x+=1)A="█",U<=x&&x<Q&&U<=D&&D<Q&&a.isDark(P,Math.floor((x-U)/1))&&(A=" "),U<=x&&x<Q&&U<=D+1&&D+1<Q&&a.isDark(R,Math.floor((x-U)/1))?A+=" ":A+="█",J+=q<1&&D+1>=Q?dt[A]:_t[A];J+=`
`}return H%2&&q>0?J.substring(0,J.length-H-1)+Array(H+1).join("▀"):J.substring(0,J.length-1)}(u);o-=1,u=u===void 0?2*o:u;var s,h,l,b,S=a.getModuleCount()*o+2*u,$=u,M=S-u,k=Array(o+1).join("██"),B=Array(o+1).join("  "),L="",j="";for(s=0;s<S;s+=1){for(l=Math.floor((s-$)/o),j="",h=0;h<S;h+=1)b=1,$<=h&&h<M&&$<=s&&s<M&&a.isDark(l,Math.floor((h-$)/o))&&(b=0),j+=b?k:B;for(l=0;l<o;l+=1)L+=j+`
`}return L.substring(0,L.length-1)},a.renderTo2dContext=function(o,u){u=u||2;for(var s=a.getModuleCount(),h=0;h<s;h++)for(var l=0;l<s;l++)o.fillStyle=a.isDark(h,l)?"black":"white",o.fillRect(h*u,l*u,u,u)},a};G.stringToBytes=(G.stringToBytesFuncs={default:function(g){for(var c=[],d=0;d<g.length;d+=1){var e=g.charCodeAt(d);c.push(255&e)}return c}}).default,G.createStringToBytes=function(g,c){var d=function(){for(var t=bt(g),i=function(){var m=t.read();if(m==-1)throw"eof";return m},r=0,n={};;){var a=t.read();if(a==-1)break;var p=i(),f=i()<<8|i();n[String.fromCharCode(a<<8|p)]=f,r+=1}if(r!=c)throw r+" != "+c;return n}(),e=63;return function(t){for(var i=[],r=0;r<t.length;r+=1){var n=t.charCodeAt(r);if(n<128)i.push(n);else{var a=d[t.charAt(r)];typeof a=="number"?(255&a)==a?i.push(a):(i.push(a>>>8),i.push(255&a)):i.push(e)}}return i}};var it,V,X,z,W,tt={L:1,M:0,Q:3,H:2},T=(it=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],V=1335,X=7973,W=function(g){for(var c=0;g!=0;)c+=1,g>>>=1;return c},(z={}).getBCHTypeInfo=function(g){for(var c=g<<10;W(c)-W(V)>=0;)c^=V<<W(c)-W(V);return 21522^(g<<10|c)},z.getBCHTypeNumber=function(g){for(var c=g<<12;W(c)-W(X)>=0;)c^=X<<W(c)-W(X);return g<<12|c},z.getPatternPosition=function(g){return it[g-1]},z.getMaskFunction=function(g){switch(g){case 0:return function(c,d){return(c+d)%2==0};case 1:return function(c,d){return c%2==0};case 2:return function(c,d){return d%3==0};case 3:return function(c,d){return(c+d)%3==0};case 4:return function(c,d){return(Math.floor(c/2)+Math.floor(d/3))%2==0};case 5:return function(c,d){return c*d%2+c*d%3==0};case 6:return function(c,d){return(c*d%2+c*d%3)%2==0};case 7:return function(c,d){return(c*d%3+(c+d)%2)%2==0};default:throw"bad maskPattern:"+g}},z.getErrorCorrectPolynomial=function(g){for(var c=et([1],0),d=0;d<g;d+=1)c=c.multiply(et([1,F.gexp(d)],0));return c},z.getLengthInBits=function(g,c){if(1<=c&&c<10)switch(g){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+g}else if(c<27)switch(g){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+g}else{if(!(c<41))throw"type:"+c;switch(g){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+g}}},z.getLostPoint=function(g){for(var c=g.getModuleCount(),d=0,e=0;e<c;e+=1)for(var t=0;t<c;t+=1){for(var i=0,r=g.isDark(e,t),n=-1;n<=1;n+=1)if(!(e+n<0||c<=e+n))for(var a=-1;a<=1;a+=1)t+a<0||c<=t+a||n==0&&a==0||r==g.isDark(e+n,t+a)&&(i+=1);i>5&&(d+=3+i-5)}for(e=0;e<c-1;e+=1)for(t=0;t<c-1;t+=1){var p=0;g.isDark(e,t)&&(p+=1),g.isDark(e+1,t)&&(p+=1),g.isDark(e,t+1)&&(p+=1),g.isDark(e+1,t+1)&&(p+=1),p!=0&&p!=4||(d+=3)}for(e=0;e<c;e+=1)for(t=0;t<c-6;t+=1)g.isDark(e,t)&&!g.isDark(e,t+1)&&g.isDark(e,t+2)&&g.isDark(e,t+3)&&g.isDark(e,t+4)&&!g.isDark(e,t+5)&&g.isDark(e,t+6)&&(d+=40);for(t=0;t<c;t+=1)for(e=0;e<c-6;e+=1)g.isDark(e,t)&&!g.isDark(e+1,t)&&g.isDark(e+2,t)&&g.isDark(e+3,t)&&g.isDark(e+4,t)&&!g.isDark(e+5,t)&&g.isDark(e+6,t)&&(d+=40);var f=0;for(t=0;t<c;t+=1)for(e=0;e<c;e+=1)g.isDark(e,t)&&(f+=1);return d+Math.abs(100*f/c/c-50)/5*10},z),F=function(){for(var g=new Array(256),c=new Array(256),d=0;d<8;d+=1)g[d]=1<<d;for(d=8;d<256;d+=1)g[d]=g[d-4]^g[d-5]^g[d-6]^g[d-8];for(d=0;d<255;d+=1)c[g[d]]=d;return{glog:function(e){if(e<1)throw"glog("+e+")";return c[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g[e]}}}();function et(g,c){if(g.length===void 0)throw g.length+"/"+c;var d=function(){for(var t=0;t<g.length&&g[t]==0;)t+=1;for(var i=new Array(g.length-t+c),r=0;r<g.length-t;r+=1)i[r]=g[r+t];return i}(),e={getAt:function(t){return d[t]},getLength:function(){return d.length},multiply:function(t){for(var i=new Array(e.getLength()+t.getLength()-1),r=0;r<e.getLength();r+=1)for(var n=0;n<t.getLength();n+=1)i[r+n]^=F.gexp(F.glog(e.getAt(r))+F.glog(t.getAt(n)));return et(i,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var i=F.glog(e.getAt(0))-F.glog(t.getAt(0)),r=new Array(e.getLength()),n=0;n<e.getLength();n+=1)r[n]=e.getAt(n);for(n=0;n<t.getLength();n+=1)r[n]^=F.gexp(F.glog(t.getAt(n))+i);return et(r,0).mod(t)}};return e}var lt=function(){var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},d={getRSBlocks:function(e,t){var i=function(v,_){switch(_){case tt.L:return g[4*(v-1)+0];case tt.M:return g[4*(v-1)+1];case tt.Q:return g[4*(v-1)+2];case tt.H:return g[4*(v-1)+3];default:return}}(e,t);if(i===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var r=i.length/3,n=[],a=0;a<r;a+=1)for(var p=i[3*a+0],f=i[3*a+1],m=i[3*a+2],w=0;w<p;w+=1)n.push(c(f,m));return n}};return d}(),rt=function(){var g=[],c=0,d={getBuffer:function(){return g},getAt:function(e){var t=Math.floor(e/8);return(g[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i+=1)d.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return c},putBit:function(e){var t=Math.floor(c/8);g.length<=t&&g.push(0),e&&(g[t]|=128>>>c%8),c+=1}};return d},gt=function(g){var c=g,d={getMode:function(){return 1},getLength:function(i){return c.length},write:function(i){for(var r=c,n=0;n+2<r.length;)i.put(e(r.substring(n,n+3)),10),n+=3;n<r.length&&(r.length-n==1?i.put(e(r.substring(n,n+1)),4):r.length-n==2&&i.put(e(r.substring(n,n+2)),7))}},e=function(i){for(var r=0,n=0;n<i.length;n+=1)r=10*r+t(i.charAt(n));return r},t=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;throw"illegal char :"+i};return d},ft=function(g){var c=g,d={getMode:function(){return 2},getLength:function(t){return c.length},write:function(t){for(var i=c,r=0;r+1<i.length;)t.put(45*e(i.charAt(r))+e(i.charAt(r+1)),11),r+=2;r<i.length&&t.put(e(i.charAt(r)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return d},ot=function(g){var c=G.stringToBytes(g);return{getMode:function(){return 4},getLength:function(d){return c.length},write:function(d){for(var e=0;e<c.length;e+=1)d.put(c[e],8)}}},pt=function(g){var c=G.stringToBytesFuncs.SJIS;if(!c)throw"sjis not supported.";(function(){var t=c("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var d=c(g),e={getMode:function(){return 8},getLength:function(t){return~~(d.length/2)},write:function(t){for(var i=d,r=0;r+1<i.length;){var n=(255&i[r])<<8|255&i[r+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(r+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13),r+=2}if(r<i.length)throw"illegal char at "+(r+1)}};return e},wt=function(){var g=[],c={writeByte:function(d){g.push(255&d)},writeShort:function(d){c.writeByte(d),c.writeByte(d>>>8)},writeBytes:function(d,e,t){e=e||0,t=t||d.length;for(var i=0;i<t;i+=1)c.writeByte(d[i+e])},writeString:function(d){for(var e=0;e<d.length;e+=1)c.writeByte(d.charCodeAt(e))},toByteArray:function(){return g},toString:function(){var d="";d+="[";for(var e=0;e<g.length;e+=1)e>0&&(d+=","),d+=g[e];return d+"]"}};return c},bt=function(g){var c=g,d=0,e=0,t=0,i={read:function(){for(;t<8;){if(d>=c.length){if(t==0)return-1;throw"unexpected end of file./"+t}var n=c.charAt(d);if(d+=1,n=="=")return t=0,-1;n.match(/^\s$/)||(e=e<<6|r(n.charCodeAt(0)),t+=6)}var a=e>>>t-8&255;return t-=8,a}},r=function(n){if(65<=n&&n<=90)return n-65;if(97<=n&&n<=122)return n-97+26;if(48<=n&&n<=57)return n-48+52;if(n==43)return 62;if(n==47)return 63;throw"c:"+n};return i},st=function(g,c,d){for(var e=function(f,m){var w=f,v=m,_=new Array(f*m),y={setPixel:function(o,u,s){_[u*w+o]=s},write:function(o){o.writeString("GIF87a"),o.writeShort(w),o.writeShort(v),o.writeByte(128),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(255),o.writeByte(255),o.writeByte(255),o.writeString(","),o.writeShort(0),o.writeShort(0),o.writeShort(w),o.writeShort(v),o.writeByte(0);var u=O(2);o.writeByte(2);for(var s=0;u.length-s>255;)o.writeByte(255),o.writeBytes(u,s,255),s+=255;o.writeByte(u.length-s),o.writeBytes(u,s,u.length-s),o.writeByte(0),o.writeString(";")}},O=function(o){for(var u=1<<o,s=1+(1<<o),h=o+1,l=C(),b=0;b<u;b+=1)l.add(String.fromCharCode(b));l.add(String.fromCharCode(u)),l.add(String.fromCharCode(s));var S,$,M,k=wt(),B=(S=k,$=0,M=0,{write:function(D,x){if(D>>>x)throw"length over";for(;$+x>=8;)S.writeByte(255&(D<<$|M)),x-=8-$,D>>>=8-$,M=0,$=0;M|=D<<$,$+=x},flush:function(){$>0&&S.writeByte(M)}});B.write(u,h);var L=0,j=String.fromCharCode(_[L]);for(L+=1;L<_.length;){var q=String.fromCharCode(_[L]);L+=1,l.contains(j+q)?j+=q:(B.write(l.indexOf(j),h),l.size()<4095&&(l.size()==1<<h&&(h+=1),l.add(j+q)),j=q)}return B.write(l.indexOf(j),h),B.write(s,h),B.flush(),k.toByteArray()},C=function(){var o={},u=0,s={add:function(h){if(s.contains(h))throw"dup key:"+h;o[h]=u,u+=1},size:function(){return u},indexOf:function(h){return o[h]},contains:function(h){return o[h]!==void 0}};return s};return y}(g,c),t=0;t<c;t+=1)for(var i=0;i<g;i+=1)e.setPixel(i,t,d(i,t));var r=wt();e.write(r);for(var n=function(){var f=0,m=0,w=0,v="",_={},y=function(C){v+=String.fromCharCode(O(63&C))},O=function(C){if(!(C<0)){if(C<26)return 65+C;if(C<52)return C-26+97;if(C<62)return C-52+48;if(C==62)return 43;if(C==63)return 47}throw"n:"+C};return _.writeByte=function(C){for(f=f<<8|255&C,m+=8,w+=1;m>=6;)y(f>>>m-6),m-=6},_.flush=function(){if(m>0&&(y(f<<6-m),f=0,m=0),w%3!=0)for(var C=3-w%3,o=0;o<C;o+=1)v+="="},_.toString=function(){return v},_}(),a=r.toByteArray(),p=0;p<a.length;p+=1)n.writeByte(a[p]);return n.flush(),"data:image/gif;base64,"+n};return G}();nt.stringToBytesFuncs["UTF-8"]=function(G){return function(it){for(var V=[],X=0;X<it.length;X++){var z=it.charCodeAt(X);z<128?V.push(z):z<2048?V.push(192|z>>6,128|63&z):z<55296||z>=57344?V.push(224|z>>12,128|z>>6&63,128|63&z):(X++,z=65536+((1023&z)<<10|1023&it.charCodeAt(X)),V.push(240|z>>18,128|z>>12&63,128|z>>6&63,128|63&z))}return V}(G)},(Z=typeof(N=function(){return nt})=="function"?N.apply(E,[]):N)===void 0||(I.exports=Z)}},K={};function Y(I){var E=K[I];if(E!==void 0)return E.exports;var N=K[I]={exports:{}};return at[I](N,N.exports,Y),N.exports}Y.n=I=>{var E=I&&I.__esModule?()=>I.default:()=>I;return Y.d(E,{a:E}),E},Y.d=(I,E)=>{for(var N in E)Y.o(E,N)&&!Y.o(I,N)&&Object.defineProperty(I,N,{enumerable:!0,get:E[N]})},Y.o=(I,E)=>Object.prototype.hasOwnProperty.call(I,E);var ct={};return(()=>{Y.d(ct,{default:()=>c});const I=d=>!!d&&typeof d=="object"&&!Array.isArray(d);function E(d,...e){if(!e.length)return d;const t=e.shift();return t!==void 0&&I(d)&&I(t)?(d=Object.assign({},d),Object.keys(t).forEach(i=>{const r=d[i],n=t[i];Array.isArray(r)&&Array.isArray(n)?d[i]=n:I(r)&&I(n)?d[i]=E(Object.assign({},r),n):d[i]=n}),E(d,...e)):d}function N(d,e){const t=document.createElement("a");t.download=e,t.href=d,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const Z={L:.07,M:.15,Q:.25,H:.3};class nt{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,r){let n;switch(this._type){case"dots":n=this._drawDot;break;case"classy":n=this._drawClassy;break;case"classy-rounded":n=this._drawClassyRounded;break;case"rounded":n=this._drawRounded;break;case"extra-rounded":n=this._drawExtraRounded;break;default:n=this._drawSquare}n.call(this,{x:e,y:t,size:i,getNeighbor:r})}_rotateFigure({x:e,y:t,size:i,rotation:r=0,draw:n}){var a;const p=e+i/2,f=t+i/2;n(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*r/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(r+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(r)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${r}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${r}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${r}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${r}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:i}){this._basicDot({x:e,y:t,size:i,rotation:0})}_drawSquare({x:e,y:t,size:i}){this._basicSquare({x:e,y:t,size:i,rotation:0})}_drawRounded({x:e,y:t,size:i,getNeighbor:r}){const n=r?+r(-1,0):0,a=r?+r(1,0):0,p=r?+r(0,-1):0,f=r?+r(0,1):0,m=n+a+p+f;if(m!==0)if(m>2||n&&a||p&&f)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(m===2){let w=0;return n&&p?w=Math.PI/2:p&&a?w=Math.PI:a&&f&&(w=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:i,rotation:w})}if(m===1){let w=0;return p?w=Math.PI/2:a?w=Math.PI:f&&(w=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:w})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawExtraRounded({x:e,y:t,size:i,getNeighbor:r}){const n=r?+r(-1,0):0,a=r?+r(1,0):0,p=r?+r(0,-1):0,f=r?+r(0,1):0,m=n+a+p+f;if(m!==0)if(m>2||n&&a||p&&f)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(m===2){let w=0;return n&&p?w=Math.PI/2:p&&a?w=Math.PI:a&&f&&(w=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:w})}if(m===1){let w=0;return p?w=Math.PI/2:a?w=Math.PI:f&&(w=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:w})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawClassy({x:e,y:t,size:i,getNeighbor:r}){const n=r?+r(-1,0):0,a=r?+r(1,0):0,p=r?+r(0,-1):0,f=r?+r(0,1):0;n+a+p+f!==0?n||p?a||f?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:i,getNeighbor:r}){const n=r?+r(-1,0):0,a=r?+r(1,0):0,p=r?+r(0,-1):0,f=r?+r(0,1):0;n+a+p+f!==0?n||p?a||f?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}}const G={dot:"dot",square:"square",extraRounded:"extra-rounded"},it=Object.values(G);class V{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,r){let n;switch(this._type){case G.square:n=this._drawSquare;break;case G.extraRounded:n=this._drawExtraRounded;break;default:n=this._drawDot}n.call(this,{x:e,y:t,size:i,rotation:r})}_rotateFigure({x:e,y:t,size:i,rotation:r=0,draw:n}){var a;const p=e+i/2,f=t+i/2;n(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*r/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:i,y:r}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i+t/2} ${r}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${n}a ${t/2-n} ${t/2-n} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:i,y:r}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${r}v ${t}h ${t}v `+-t+`zM ${i+n} ${r+n}h `+(t-2*n)+"v "+(t-2*n)+"h "+(2*n-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:i,y:r}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${r+2.5*n}v `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*n}h `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*-n}v `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*-n}h `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*n}M ${i+2.5*n} ${r+n}h `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*n}v `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*n}h `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*-n}v `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*-n}`)}}))}_drawDot({x:e,y:t,size:i,rotation:r}){this._basicDot({x:e,y:t,size:i,rotation:r})}_drawSquare({x:e,y:t,size:i,rotation:r}){this._basicSquare({x:e,y:t,size:i,rotation:r})}_drawExtraRounded({x:e,y:t,size:i,rotation:r}){this._basicExtraRounded({x:e,y:t,size:i,rotation:r})}}const X={dot:"dot",square:"square"},z=Object.values(X);class W{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,r){let n;n=this._type===X.square?this._drawSquare:this._drawDot,n.call(this,{x:e,y:t,size:i,rotation:r})}_rotateFigure({x:e,y:t,size:i,rotation:r=0,draw:n}){var a;const p=e+i/2,f=t+i/2;n(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*r/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(r+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:r}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(r)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:i,rotation:r}){this._basicDot({x:e,y:t,size:i,rotation:r})}_drawSquare({x:e,y:t,size:i,rotation:r}){this._basicSquare({x:e,y:t,size:i,rotation:r})}}const tt="circle",T=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],F=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class et{constructor(e,t){this._roundSize=i=>this._options.dotsOptions.roundSize?Math.floor(i):i,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=et.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),i=Math.min(this._options.width,this._options.height)-2*this._options.margin,r=this._options.shape===tt?i/Math.sqrt(2):i,n=this._roundSize(r/t);let a={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:p,qrOptions:f}=this._options,m=p.imageSize*Z[f.errorCorrectionLevel],w=Math.floor(m*t*t);a=function({originalHeight:v,originalWidth:_,maxHiddenDots:y,maxHiddenAxisDots:O,dotSize:C}){const o={x:0,y:0},u={x:0,y:0};if(v<=0||_<=0||y<=0||C<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const s=v/_;return o.x=Math.floor(Math.sqrt(y/s)),o.x<=0&&(o.x=1),O&&O<o.x&&(o.x=O),o.x%2==0&&o.x--,u.x=o.x*C,o.y=1+2*Math.ceil((o.x*s-1)/2),u.y=Math.round(u.x*s),(o.y*o.x>y||O&&O<o.y)&&(O&&O<o.y?(o.y=O,o.y%2==0&&o.x--):o.y-=2,u.y=o.y*C,o.x=1+2*Math.ceil((o.y/s-1)/2),u.x=Math.round(u.y/s)),{height:u.y,width:u.x,hideYDots:o.y,hideXDots:o.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:w,maxHiddenAxisDots:t-14,dotSize:n})}this.drawBackground(),this.drawDots((p,f)=>{var m,w,v,_,y,O;return!(this._options.imageOptions.hideBackgroundDots&&p>=(t-a.hideYDots)/2&&p<(t+a.hideYDots)/2&&f>=(t-a.hideXDots)/2&&f<(t+a.hideXDots)/2||!((m=T[p])===null||m===void 0)&&m[f]||!((w=T[p-t+7])===null||w===void 0)&&w[f]||!((v=T[p])===null||v===void 0)&&v[f-t+7]||!((_=F[p])===null||_===void 0)&&_[f]||!((y=F[p-t+7])===null||y===void 0)&&y[f]||!((O=F[p])===null||O===void 0)&&O[f-t+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:a.width,height:a.height,count:t,dotSize:n})}drawBackground(){var e,t,i;const r=this._element,n=this._options;if(r){const a=(e=n.backgroundOptions)===null||e===void 0?void 0:e.gradient,p=(t=n.backgroundOptions)===null||t===void 0?void 0:t.color;let f=n.height,m=n.width;if(a||p){const w=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((i=n.backgroundOptions)===null||i===void 0)&&i.round&&(f=m=Math.min(n.width,n.height),w.setAttribute("rx",String(f/2*n.backgroundOptions.round))),w.setAttribute("x",String(this._roundSize((n.width-m)/2))),w.setAttribute("y",String(this._roundSize((n.height-f)/2))),w.setAttribute("width",String(m)),w.setAttribute("height",String(f)),this._backgroundClipPath.appendChild(w),this._createColor({options:a,color:p,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,i;if(!this._qr)throw"QR code is not defined";const r=this._options,n=this._qr.getModuleCount();if(n>r.width||n>r.height)throw"The canvas is too small.";const a=Math.min(r.width,r.height)-2*r.margin,p=r.shape===tt?a/Math.sqrt(2):a,f=this._roundSize(p/n),m=this._roundSize((r.width-n*f)/2),w=this._roundSize((r.height-n*f)/2),v=new nt({svg:this._element,type:r.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=r.dotsOptions)===null||t===void 0?void 0:t.gradient,color:r.dotsOptions.color,additionalRotation:0,x:0,y:0,height:r.height,width:r.width,name:`dot-color-${this._instanceId}`});for(let _=0;_<n;_++)for(let y=0;y<n;y++)e&&!e(_,y)||!((i=this._qr)===null||i===void 0)&&i.isDark(_,y)&&(v.draw(m+y*f,w+_*f,f,(O,C)=>!(y+O<0||_+C<0||y+O>=n||_+C>=n)&&!(e&&!e(_+C,y+O))&&!!this._qr&&this._qr.isDark(_+C,y+O)),v._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(v._element));if(r.shape===tt){const _=this._roundSize((a/f-n)/2),y=n+2*_,O=m-_*f,C=w-_*f,o=[],u=this._roundSize(y/2);for(let s=0;s<y;s++){o[s]=[];for(let h=0;h<y;h++)s>=_-1&&s<=y-_&&h>=_-1&&h<=y-_||Math.sqrt((s-u)*(s-u)+(h-u)*(h-u))>u?o[s][h]=0:o[s][h]=this._qr.isDark(h-2*_<0?h:h>=n?h-2*_:h-_,s-2*_<0?s:s>=n?s-2*_:s-_)?1:0}for(let s=0;s<y;s++)for(let h=0;h<y;h++)o[s][h]&&(v.draw(O+h*f,C+s*f,f,(l,b)=>{var S;return!!(!((S=o[s+b])===null||S===void 0)&&S[h+l])}),v._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(v._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const i=this._qr.getModuleCount(),r=Math.min(t.width,t.height)-2*t.margin,n=t.shape===tt?r/Math.sqrt(2):r,a=this._roundSize(n/i),p=7*a,f=3*a,m=this._roundSize((t.width-i*a)/2),w=this._roundSize((t.height-i*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([v,_,y])=>{var O,C,o,u,s,h,l,b,S,$,M,k,B,L;const j=m+v*a*(i-7),q=w+_*a*(i-7);let D=this._dotsClipPath,x=this._dotsClipPath;if((!((O=t.cornersSquareOptions)===null||O===void 0)&&O.gradient||!((C=t.cornersSquareOptions)===null||C===void 0)&&C.color)&&(D=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),D.setAttribute("id",`clip-path-corners-square-color-${v}-${_}-${this._instanceId}`),this._defs.appendChild(D),this._cornersSquareClipPath=this._cornersDotClipPath=x=D,this._createColor({options:(o=t.cornersSquareOptions)===null||o===void 0?void 0:o.gradient,color:(u=t.cornersSquareOptions)===null||u===void 0?void 0:u.color,additionalRotation:y,x:j,y:q,height:p,width:p,name:`corners-square-color-${v}-${_}-${this._instanceId}`})),((s=t.cornersSquareOptions)===null||s===void 0?void 0:s.type)&&it.includes(t.cornersSquareOptions.type)){const P=new V({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});P.draw(j,q,p,y),P._element&&D&&D.appendChild(P._element)}else{const P=new nt({svg:this._element,type:((h=t.cornersSquareOptions)===null||h===void 0?void 0:h.type)||t.dotsOptions.type,window:this._window});for(let R=0;R<T.length;R++)for(let A=0;A<T[R].length;A++)!((l=T[R])===null||l===void 0)&&l[A]&&(P.draw(j+A*a,q+R*a,a,(H,U)=>{var Q;return!!(!((Q=T[R+U])===null||Q===void 0)&&Q[A+H])}),P._element&&D&&D.appendChild(P._element))}if((!((b=t.cornersDotOptions)===null||b===void 0)&&b.gradient||!((S=t.cornersDotOptions)===null||S===void 0)&&S.color)&&(x=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),x.setAttribute("id",`clip-path-corners-dot-color-${v}-${_}-${this._instanceId}`),this._defs.appendChild(x),this._cornersDotClipPath=x,this._createColor({options:($=t.cornersDotOptions)===null||$===void 0?void 0:$.gradient,color:(M=t.cornersDotOptions)===null||M===void 0?void 0:M.color,additionalRotation:y,x:j+2*a,y:q+2*a,height:f,width:f,name:`corners-dot-color-${v}-${_}-${this._instanceId}`})),((k=t.cornersDotOptions)===null||k===void 0?void 0:k.type)&&z.includes(t.cornersDotOptions.type)){const P=new W({svg:this._element,type:t.cornersDotOptions.type,window:this._window});P.draw(j+2*a,q+2*a,f,y),P._element&&x&&x.appendChild(P._element)}else{const P=new nt({svg:this._element,type:((B=t.cornersDotOptions)===null||B===void 0?void 0:B.type)||t.dotsOptions.type,window:this._window});for(let R=0;R<F.length;R++)for(let A=0;A<F[R].length;A++)!((L=F[R])===null||L===void 0)&&L[A]&&(P.draw(j+A*a,q+R*a,a,(H,U)=>{var Q;return!!(!((Q=F[R+U])===null||Q===void 0)&&Q[A+H])}),P._element&&x&&x.appendChild(P._element))}})}loadImage(){return new Promise((e,t)=>{var i;const r=this._options;if(!r.image)return t("Image is not defined");if(!((i=r.nodeCanvas)===null||i===void 0)&&i.loadImage)r.nodeCanvas.loadImage(r.image).then(n=>{var a,p;if(this._image=n,this._options.imageOptions.saveAsBlob){const f=(a=r.nodeCanvas)===null||a===void 0?void 0:a.createCanvas(this._image.width,this._image.height);(p=f==null?void 0:f.getContext("2d"))===null||p===void 0||p.drawImage(n,0,0),this._imageUri=f==null?void 0:f.toDataURL()}e()}).catch(t);else{const n=new this._window.Image;typeof r.imageOptions.crossOrigin=="string"&&(n.crossOrigin=r.imageOptions.crossOrigin),this._image=n,n.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(a,p){return new Promise(f=>{const m=new p.XMLHttpRequest;m.onload=function(){const w=new p.FileReader;w.onloadend=function(){f(w.result)},w.readAsDataURL(m.response)},m.open("GET",a),m.responseType="blob",m.send()})}(r.image||"",this._window)),e()},n.src=r.image}})}async drawImage({width:e,height:t,count:i,dotSize:r}){const n=this._options,a=this._roundSize((n.width-i*r)/2),p=this._roundSize((n.height-i*r)/2),f=a+this._roundSize(n.imageOptions.margin+(i*r-e)/2),m=p+this._roundSize(n.imageOptions.margin+(i*r-t)/2),w=e-2*n.imageOptions.margin,v=t-2*n.imageOptions.margin,_=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");_.setAttribute("href",this._imageUri||""),_.setAttribute("x",String(f)),_.setAttribute("y",String(m)),_.setAttribute("width",`${w}px`),_.setAttribute("height",`${v}px`),this._element.appendChild(_)}_createColor({options:e,color:t,additionalRotation:i,x:r,y:n,height:a,width:p,name:f}){const m=p>a?p:a,w=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(w.setAttribute("x",String(r)),w.setAttribute("y",String(n)),w.setAttribute("height",String(a)),w.setAttribute("width",String(p)),w.setAttribute("clip-path",`url('#clip-path-${f}')`),e){let v;if(e.type==="radial")v=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),v.setAttribute("id",f),v.setAttribute("gradientUnits","userSpaceOnUse"),v.setAttribute("fx",String(r+p/2)),v.setAttribute("fy",String(n+a/2)),v.setAttribute("cx",String(r+p/2)),v.setAttribute("cy",String(n+a/2)),v.setAttribute("r",String(m/2));else{const _=((e.rotation||0)+i)%(2*Math.PI),y=(_+2*Math.PI)%(2*Math.PI);let O=r+p/2,C=n+a/2,o=r+p/2,u=n+a/2;y>=0&&y<=.25*Math.PI||y>1.75*Math.PI&&y<=2*Math.PI?(O-=p/2,C-=a/2*Math.tan(_),o+=p/2,u+=a/2*Math.tan(_)):y>.25*Math.PI&&y<=.75*Math.PI?(C-=a/2,O-=p/2/Math.tan(_),u+=a/2,o+=p/2/Math.tan(_)):y>.75*Math.PI&&y<=1.25*Math.PI?(O+=p/2,C+=a/2*Math.tan(_),o-=p/2,u-=a/2*Math.tan(_)):y>1.25*Math.PI&&y<=1.75*Math.PI&&(C+=a/2,O+=p/2/Math.tan(_),u-=a/2,o-=p/2/Math.tan(_)),v=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),v.setAttribute("id",f),v.setAttribute("gradientUnits","userSpaceOnUse"),v.setAttribute("x1",String(Math.round(O))),v.setAttribute("y1",String(Math.round(C))),v.setAttribute("x2",String(Math.round(o))),v.setAttribute("y2",String(Math.round(u)))}e.colorStops.forEach(({offset:_,color:y})=>{const O=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");O.setAttribute("offset",100*_+"%"),O.setAttribute("stop-color",y),v.appendChild(O)}),w.setAttribute("fill",`url('#${f}')`),this._defs.appendChild(v)}else t&&w.setAttribute("fill",t);this._element.appendChild(w)}}et.instanceCount=0;const lt=et,rt="canvas",gt={};for(let d=0;d<=40;d++)gt[d]=d;const ft={type:rt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:gt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function ot(d){const e=Object.assign({},d);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map(t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)})),e}function pt(d){const e=Object.assign({},d);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=ot(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=ot(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=ot(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=ot(e.backgroundOptions.gradient))),e}var wt=Y(873),bt=Y.n(wt);function st(d){if(!d)throw new Error("Extension must be defined");d[0]==="."&&(d=d.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[d.toLowerCase()];if(!e)throw new Error(`Extension "${d}" is not supported`);return e}class g{constructor(e){e!=null&&e.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?pt(E(ft,e)):ft,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new lt(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))})}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then(()=>{var i;if(!this._svg)return;const r=this._svg,n=new this._window.XMLSerializer().serializeToString(r),a=btoa(n),p=`data:${st("svg")};base64,${a}`;if(!((i=this._options.nodeCanvas)===null||i===void 0)&&i.loadImage)return this._options.nodeCanvas.loadImage(p).then(f=>{var m,w;f.width=this._options.width,f.height=this._options.height,(w=(m=this._nodeCanvas)===null||m===void 0?void 0:m.getContext("2d"))===null||w===void 0||w.drawImage(f,0,0)});{const f=new this._window.Image;return new Promise(m=>{f.onload=()=>{var w,v;(v=(w=this._domCanvas)===null||w===void 0?void 0:w.getContext("2d"))===null||v===void 0||v.drawImage(f,0,0),m()},f.src=p})}}))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){g._clearContainer(this._container),this._options=e?pt(E(this._options,e)):this._options,this._options.data&&(this._qr=bt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===rt?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===rt?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),i=st(e);if(!t)return null;if(e.toLowerCase()==="svg"){const r=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(r):new Blob([r],{type:i})}return new Promise(r=>{const n=t;if("toBuffer"in n)if(i==="image/png")r(n.toBuffer(i));else if(i==="image/jpeg")r(n.toBuffer(i));else{if(i!=="application/pdf")throw Error("Unsupported extension");r(n.toBuffer(i))}else"toBlob"in n&&n.toBlob(r,i,1)})}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",i="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(i=e.name),e.extension&&(t=e.extension));const r=await this._getElement(t);if(r)if(t.toLowerCase()==="svg"){let n=new XMLSerializer().serializeToString(r);n=`<?xml version="1.0" standalone="no"?>\r
`+n,N(`data:${st(t)};charset=utf-8,${encodeURIComponent(n)}`,`${i}.svg`)}else N(r.toDataURL(st(t)),`${i}.${t}`)}}const c=g})(),ct.default})())}(mt)),mt.exports}var Nt=Lt();const Tt=Et(Nt),Ft=At({__name:"QRCode",props:{type:{default:"svg"},shape:{},width:{default:300},height:{default:300},margin:{default:0},data:{default:""},image:{},nodeCanvas:{},jsdom:{},qrOptions:{default:()=>({typeNumber:0,mode:void 0,errorCorrectionLevel:"Q"})},imageOptions:{default:()=>({hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0})},dotsOptions:{default:()=>({type:"square",color:"#000"})},cornersSquareOptions:{},cornersDotOptions:{},backgroundOptions:{default:()=>({color:"rgba(0, 0, 0, 0)"})}},setup(ht){St();const vt=ht,at=new Tt(vt),K=$t(null);return Ot(()=>{K.value&&at.append(K.value)}),(Y,ct)=>(Ct(),Mt("div",{id:"qr-code",ref_key:"qrCodeRef",ref:K},null,512))}}),Vt={__name:"aula01.md__slidev_37",setup(ht){const{$slidev:vt,$nav:at,$clicksContext:K,$clicks:Y,$page:ct,$renderContext:I,$frontmatter:E}=St();return K.setup(),(N,Z)=>{const nt=Ft;return Ct(),kt(jt,qt(Pt(yt(It)(yt(E),36))),{default:Dt(()=>[Z[0]||(Z[0]=ut("h1",null,"Acesso On-line:",-1)),Z[1]||(Z[1]=ut("ul",null,[ut("li",null,[zt("Estes slides podem ser acessados por este "),ut("a",{href:"https://andersonalmeidaif.github.io/itpdso1/aula01",target:"_blank"},"link")])],-1)),Z[2]||(Z[2]=ut("p",null,"Ou pelo QR-Code:",-1)),Bt(nt,{width:300,height:300,type:"svg",data:"https://andersonalmeidaif.github.io/itpmaco/aula01",margin:20,imageOptions:{margin:10},dotsOptions:{color:"black"}})]),_:1},16)}}};export{Vt as default};
